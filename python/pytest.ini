[pytest]
# Additional pytest configuration
# Main config is in pyproject.toml, this is for overrides

# Enable parallel test execution to increase flakiness
addopts = -n auto

# Retry configuration for flaky tests
# Note: This would require pytest-rerunfailures plugin
# addopts = --reruns 3 --reruns-delay 1

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test* *Tests
python_functions = test_*

# Marker configuration
markers =
    flaky: marks tests as intentionally flaky
    probability: probability-based flaky tests  
    timing: time-dependent flaky tests
    network: network simulation flaky tests
    concurrency: concurrency-related flaky tests
    environment: environment-dependent flaky tests
    stateful: stateful flaky tests
    slow: marks tests as slow running
    
# Filter warnings
filterwarnings =
    ignore::UserWarning
    ignore::DeprecationWarning
    
# Minimum version
minversion = 7.0
